<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
   <title>jCaret2 Plugin Test</title>
   <script type="text/javascript" 
           src="http://code.jquery.com/jquery-latest.min.js"></script>
   <script type="text/javascript" src="jquery-jcaret2.js"></script>
   <script type="text/javascript">
      
      $("document").ready(function() {
   
            /**** FIELD 1 ****

            /*
             *  Dynamically show the start/end values. 
             */

            /* Small routine to display the start/end values. */
            var showStartEnd = function() {
               var range = $(this).caret();
               
               $("span.caretStart").text(range[0]);
               $("span.caretEnd").text(range[1]);
            } // endfunction
        
            /* Bind the function to key and mouse events. */
            $("#f1").keyup(showStartEnd).mousemove(showStartEnd);


            /**** FIELD 2 ****/

            /*
             *  Display some text pre-highlighted.
             */

            /* The 2nd field will highlight mundo. */
            $("#highlight").click(function () {
                     $("#f2").val(";Hola, mundo!").caret(7, 12);
                  } // endfunction
               ); 
            
          
            /**** FIELD 3 ****/

            /*
             *  Dynamically show the selected text.
             */

            /* Small routine to display selected text. */
            var showText = function() {
               var str = $(this).caret('text');
               str = (str == '') ? "None" : str;

               $("span.getText").text(str);
            } // endfunction

            /* Bind the function to key and mouse events. */
            $("#f3").keyup(showText).mousemove(showText).click(showText);


            /**** FIELD 4 ****/

            /*
             *  Replace some highlighted text.
             */

            /* The 4th field will replace highlighted text with MUNDO. */
            $("#replace")
               .click(function () { $("#f4").caret('text', "MUNDO!!!") }); 


            /**** FIELD 5 ****/

            /*
             *  Find and highlight some text.
             */

            /* The 5th field will high mundo or a quotation. */
            $("#findmundo")
               .click(function () { $("#f5").caret('find', "mundo") }); 
            $("#findquote")
               .click(function () { $("#f5").caret('find', /".*"/) }); 


            /**** FIELD 6 ****/

            /*
             *  Position the caret without highlighting.
             */

            /* The 6th field will show cursor positioning. */
            $("#startpos").click(function () { $("#f6").caret('start') }); 
            $("#endpos").click(function () { $("#f6").caret('end') }); 
            $("#pos5").click(function () { $("#f6").caret(5) }); 
            
         } // endfunction
      );
   </script>
</head>

<body>
   <input type="text" id="f1" size="30"/><br/>
   Caret Position: start=<span class="caretStart"></span>, 
                   end=<span class="caretEnd"></span><br/><br/>

   <input type="text" id="f2" size="30"/>
      <input type="button" id="highlight" value="Highlight mundo"/>
      <br/><br/>

   <input type="text" id="f3" size="30"/><br/>
   Selected text = <span class="getText"></span><br/><br/>

   <input type="text" id="f4" size="30"/>
      <input type="button" id="replace" value="Insert/Replace Text"/>
      <br/><br/>

   <input type="text" id="f5" size="30" 
          value='holy mundo "thats crazy" man'/>
      <input type="button" id="findmundo" value="Highlight mundo"/>
      <input type="button" id="findquote" value="Highlight quotation"/>
      <br/><br/>

   <input type="text" id="f6" size="30" 
          value='here is some text'/>
      <input type="button" id="startpos" value="First"/>
      <input type="button" id="endpos" value="Last"/>
      <input type="button" id="pos5" value="6th character"/>
      <br/><br/>

</body>
</html>
